@model IEnumerable<MyBookList.ViewModels.MovieFormViewModel>

    @{
        ViewBag.Title = "title";
        Layout = "~/Views/Shared/_Layout.cshtml";

        var user = Request.IsAuthenticated;
    }

<h2>Movies List</h2>

<p>
    @if (user) {@Html.ActionLink("Add new movie", "New", "Movies", null, new { @class = "btn btn-primary" })}
</p>

<table style="width: 100%" class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Movie Title</th>
            @if (user)
            {
                <th></th>
            }
            <th>Movie Director</th>
            <th>Release Date</th>
            <th>Movie Genre</th>
            <th>Movie Description</th>
        </tr>
    </thead>

    @foreach (var movie in Model)
    {
        <tr>
            <th>@Html.ActionLink(movie.Movie.Title, "Details", "Movies", new { id = movie.Movie.Id }, null)</th>
            @if (user)
            {
                <th>@Html.ActionLink("Add to my Base", "AddToUserBase", "Movies", new { id = movie.Movie.Id }, null)</th>
            }
            <th>@movie.Movie.Director</th>
            <th>@movie.Movie.ReleaseDate.ToShortDateString()</th>
            <th>@movie.Movie.MovieGenre.Name</th>
            <th>@movie.Movie.Description</th>
            @if (movie.CanEdit && user)
            {
                <th>@Html.ActionLink("Edit Movie", "Edit", "Movies", new { id = movie.Movie.Id }, null)</th>
            }
            @if (!movie.InUse && user && movie.CanEdit)
            {
                <th>@Html.ActionLink("Delete Movie", "Edit", "Books", new { id = movie.Movie.Id }, null)</th>
            }
        </tr>
    }
</table>